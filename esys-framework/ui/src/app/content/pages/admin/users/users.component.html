<div class="row" style="margin-top: 15px">
    <div class="col-sm-8" >
        <h3 class="sub-header" style="border-right: 1px solid #e2e5ec;"><span style="font-weight: bold;">Kullanıcı Listesi</span></h3>
        <span style="position: relative; top:3px"> Kullanıcıları ve izinleri yönetin. </span>
    </div>
    <div class="col-sm-4">
        <div  style="float: right">
            <button class="btn btn-lg btn-info"
                    (click)="newRecord()"><i class="fa fa-plus">&nbsp;&nbsp;Yeni kullanıcı oluştur</i></button>
        </div>

    </div>
</div>
<div style="margin-top: 10px; padding: 10px; background-color: white">
    <table id="example" class="table table-striped table-bordered dataTable" style="width:100%">
    </table>

</div>

<div class="modal fade" id="user-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title" id="exampleModalLabel">{{editedData ? 'Kullanıcı Düzenle: ' + editedData.email : 'Yeni Kullanıcı Oluştur'}}</h4>
            </div>
            <div class="modal-body">
                <div>

                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab"
                                                                  data-toggle="tab">Kullanıcı Bigileri</a></li>
                        <li role="presentation"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">Roller</a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="home">
                            <div class="row">
                                <div class="col-sm-3 text-center margin-bottom-15 margin-top-15">
                                    <img class="img-thumbnail img-rounded" height="128" width="128"
                                         style="border: none"
                                         src="./assets/media/img/users/person_2.jpeg">
                                </div>
                                <div class="col-sm-9">
                                    <div class="form-group">
                                        <label for="firstName">Ad *</label>
                                        <input class="form-control" id="firstName" maxlength="32" name="firstName" required=""
                                               [(ngModel)]="userModel.firstName"
                                               type="text">
                                    </div>
                                    <div class="form-group">
                                        <label for="lastName">Soyad *</label>
                                        <input class="form-control" id="lastName" maxlength="32" name="lastName"
                                               [(ngModel)]="userModel.lastName"
                                               required=""
                                               type="text">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="email">E-posta adresi *</label>
                                <input class="form-control" email="" id="email" maxlength="256" name="email"
                                       [(ngModel)]="userModel.email"
                                       required="" type="email">
                            </div>
                            <div class="form-group">
                                <label for="phone">Telefon numarası</label>
                                <input class="form-control"
                                       [(ngModel)]="userModel.phone"
                                       id="phone" maxlength="24" name="phone" type="text">
                            </div>
                            <div class="form-group">
                                <label for="password">Şifre</label>
                                <input class="form-control"
                                       [(ngModel)]="userModel.password"
                                       id="password" maxlength="24" name="password" type="password">
                            </div>
                            <div class="form-group">
                                <label for="matchingPassword">Şifre (Tekrar)</label>
                                <input class="form-control"
                                       [(ngModel)]="userModel.matchingPassword"
                                       id="matchingPassword" maxlength="24" name="phone" type="password">
                            </div>
                            <div class="m-checkbox-list">

                                <label class="m-checkbox m-checkbox--solid m-checkbox--brand">
                                    <input type="checkbox" [(ngModel)]="userModel.shouldChangePasswordOnNextLogin" value="default">  İlk girişte şifre değiştirilmesi zorunlu olsun.
                                    <span></span>
                                </label>
                                <label class="m-checkbox m-checkbox--solid m-checkbox--brand">
                                    <input type="checkbox" [(ngModel)]="userModel.sendActivationEmail" value="default">  Hesabı etkinleştirmek için e-posta gönder.
                                    <span></span>
                                </label>
                                <label class="m-checkbox m-checkbox--solid m-checkbox--brand">
                                    <input type="checkbox" [(ngModel)]="userModel.enabled" value="default">  Aktif
                                    <span></span>
                                </label>
                                <label class="m-checkbox m-checkbox--solid m-checkbox--brand">
                                    <input type="checkbox" [(ngModel)]="userModel.isAccountNonLocked" value="default">   Hesap <b>kilitlenmesin</b>
                                    <span></span>
                                </label>
                                <br>

                            </div>

                        </div>
                        <div role="tabpanel" class="tab-pane" id="profile">

                            <div class="col-xl-12">
                                <p-tree styleClass="col-xl-12" [value]="authorities" selectionMode="checkbox"
                                        [(selection)]="selectedAuthorities"></p-tree>
                            </div>

                        </div>
                    </div>

                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" (click)="closeModal()">Kapat</button>
                <button type="button" class="btn btn-info" (click)="saveUser()"><i class="fa fa-save"></i>&nbsp;&nbsp;Kaydet
                </button>
            </div>
        </div>
    </div>
</div>
